<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>NutriFruit</title>

  <!-- slider stylesheet -->
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.1.3/assets/owl.carousel.min.css" />

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

  <!-- fonts style -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet" />
  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="css/responsive.css" rel="stylesheet" />
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <!-- SweetAlert2 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <script src="js/cart.js"></script>
</head>

<body>
  <div class="hero_area sub_pages">
    <!-- header section strats -->
    <header class="header_section">
      <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container pt-3">
          <a class="navbar-brand" href="index.html">
            <img src="images/logo.png" alt="" /><span>
              NutriFruit
            </span>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="d-flex ml-auto flex-column flex-lg-row align-items-center">
              <ul class="navbar-nav  ">
                <li class="nav-item active">
                  <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="fruit.html">Products</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>
    <!-- end header section -->

  </div>

  <!-- cart section -->
  <section class="cart_section layout_padding-top">
    <div class="container animate__animated animate__fadeIn">
      <h2 class="custom_heading">Your Fruit Basket</h2>
      <div class="total_amount-container text-right mt-4" id="total-amount-container">
        <h4>Total Amount: ₹<span id="total-amount">0.00</span></h4>
        <button class="btn custom_orange-btn mt-2" onclick="confirmCheckout()">Checkout</button>
      </div>
      <div class="row layout_padding2" id="cart-items-container">
        <!-- Cart items will be dynamically inserted here -->
      </div>
      <div class="empty-cart-container text-center" id="empty-cart-container" style="display: none;">
        <img src="./assets/empty.png" alt="Empty Cart" class="img-fluid" style="max-width: 300px; margin-bottom: 20px;">
        <h4>Your cart is empty, start shopping!</h4>
        <a href="fruit.html" class="btn custom_orange-btn mt-2">Shop Now</a>
      </div>
    </div>
  </section>
  <!-- end cart section -->

  <section class="info_section layout_padding">
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <h5>
            Fruits
          </h5>
          <ul>
            <li>
              Citrus Fruits
            </li>
            <li>
              Berries
            </li>
            <li>
              Stone Fruits
            </li>
            <li>
              Tropical Fruits
            </li>
            <li>
              Melons
            </li>
            <li>
              Pomes 
            </li>
            <li>
              Dried Fruit
            </li>
            <li>
              Exotic Fruits 
            </li>
          </ul>
        </div>
        <div class="col-md-3">
          <h5>
            Services
          </h5>
          <ul>
            <li>
              All Over India Shipping
            </li>
            <li>
              24/7 Support
            </li>
            <li>
              Customer Care
            </li>
            <li>
              Bulk & Gift Packaging
            </li>
            <li>
              Express Delivery & Tracking 
            </li>
            <li>
              Customized Juice Blends 
            </li>
            <li>
              Loyalty Rewards & Discount
            </li>
            <li>
              Seasonal & Exotic Collections
            </li>
          </ul>
        </div>
        <div class="col-md-3">
          <h5>
            Help
          </h5>
          <ul>
            <li>
              FAQs 
            </li>
            <li>
              Contact Us
            </li>
            <li>
              Wallet FAQs
            </li>
            <li>
              Wallet T&Cs
            </li>
            <li>
              Vendor Connect
            </li>
            <li>
              Refund & Cancellation Policy
            </li>
            <li>
              Privacy Policy
            </li>
            <li>
              Terms & Conditions
            </li>
          </ul>
        </div>
        <div class="col-md-3">
          <div class="social_container">
            <h5>
              Follow Us
            </h5>
            <div class="social-box">
              <a href="">
                <img src="images/fb.png" alt="">
              </a>

              <a href="">
                <img src="images/twitter.png" alt="">
              </a>
              <a href="">
                <img src="images/linkedin.png" alt="">
              </a>
              <a href="">
                <img src="images/instagram.png" alt="">
              </a>
            </div>
          </div>
          <div class="subscribe_container">
            <h5>
              Subscribe Now
            </h5>
            <div class="form_container">
              <form action="">
                <input type="email">
                <button type="submit">
                  Subscribe
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>



  <!-- footer section -->
  <section class="container-fluid footer_section">
    <p>
      Copyright &copy; 2025 All Rights Reserved By SHAIK ABDUL RASHEED
    </p>
  </section>
  <!-- footer section -->

  <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
  <script type="text/javascript" src="js/bootstrap.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      renderCartItems();
    });

    function renderCartItems() {
      const cartContainer = document.getElementById('cart-items-container');
      const totalAmountContainer = document.getElementById('total-amount-container');
      const emptyCartContainer = document.getElementById('empty-cart-container');
      const totalAmountElement = document.getElementById('total-amount');
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      cartContainer.innerHTML = ''; // Clear existing items
      let totalAmount = 0;
      if (cart.length === 0) {
        cartContainer.style.display = 'none';
        totalAmountContainer.style.display = 'none';
        emptyCartContainer.style.display = 'block';
        return;
      } else {
        cartContainer.style.display = 'flex';
        totalAmountContainer.style.display = 'block';
        emptyCartContainer.style.display = 'none';
      }
      cart.forEach(product => {
        const pricePerUnit = product.price.perKg || product.price.perDozen || product.price.perPiece || product.price.perLiter || product.price.per200g;
        const totalPrice = pricePerUnit * product.quantity;
        totalAmount += totalPrice;
        const cartItem = document.createElement('div');
        cartItem.className = 'col-md-4 d-flex justify-content-center align-items-center animate__animated animate__fadeInUp';
        cartItem.innerHTML = `
          <div class="fruit_card">
            <img src="${product.image}" alt="${product.name}" class="fruit_image" />
            <h3>${product.name}</h3>
            <p>${product.description}</p>
            <p>Price: ₹${totalPrice.toFixed(2)}</p>
            <div class="quantity-controls">
              <button class="btn btn-secondary" onclick="decreaseQuantity(${product.id})">-</button>
              <span class="quantity">${product.quantity}</span>
              <button class="btn btn-secondary" onclick="increaseQuantity(${product.id})">+</button>
            </div>
            <button class="btn btn-danger mt-2" onclick="confirmRemoveFromCart(${product.id})">Remove</button>
          </div>
        `;
        cartContainer.appendChild(cartItem);
      });
      totalAmountElement.textContent = totalAmount.toFixed(2);
    }

    function increaseQuantity(productId) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      const product = cart.find(p => p.id === productId);
      if (product) {
        product.quantity += 1;
        localStorage.setItem('cart', JSON.stringify(cart));
        renderCartItems();
      }
    }

    function decreaseQuantity(productId) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      const product = cart.find(p => p.id === productId);
      if (product && product.quantity > 1) {
        product.quantity -= 1;
        localStorage.setItem('cart', JSON.stringify(cart));
        renderCartItems();
      }
    }

    function confirmRemoveFromCart(productId) {
      Swal.fire({
        title: 'Are you sure?',
        text: "Do you want to remove this item from your cart?",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#fc5d35',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, remove it!'
      }).then((result) => {
        if (result.isConfirmed) {
          removeFromCart(productId);
          Swal.fire(
            'Removed!',
            'The item has been removed from your cart.',
            'success'
          );
        }
      });
    }

    function removeFromCart(productId) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      cart = cart.filter(p => p.id !== productId);
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCartItems();
    }

    function confirmCheckout() {
      Swal.fire({
        title: 'Are you sure?',
        text: "Do you want to proceed to checkout?",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#fc5d35',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, proceed!'
      }).then((result) => {
        if (result.isConfirmed) {
          checkout();
        }
      });
    }

    function checkout() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const totalAmount = document.getElementById('total-amount').textContent;
      localStorage.setItem('checkoutCart', JSON.stringify(cart));
      localStorage.setItem('totalAmount', totalAmount);
      window.location.href = 'checkout.html';
    }

    document.querySelector('.form_container button[type="submit"]').addEventListener('click', function(event) {
      event.preventDefault();
      const email = document.querySelector('.form_container input[type="email"]').value.trim();

      if (!email) {
        Swal.fire({
          title: 'Error!',
          text: 'Email is required.',
          icon: 'error',
          confirmButtonText: 'OK'
        });
        return;
      }

      Swal.fire({
        title: 'Subscribed!',
        text: 'Thank you for subscribing. You will receive our latest updates.',
        icon: 'success',
        confirmButtonText: 'OK'
      });
    });
  </script>
</body>

</html>